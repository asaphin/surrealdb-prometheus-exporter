exporter:
  port: 9224
  metrics_path: /metrics

surrealdb:
  scheme: ws
  host: localhost
  port: 8000
  username: root
  password: SecurePassword123!
  timeout: 10s
  # Required fields - will use defaults with warnings if empty/invalid
  cluster_name: local-single-node           # cannot be empty
  storage_engine: memory                    # allowed values: memory, rocksdb, tikv
  deployment_mode: single                   # allowed values: single, distributed, cloud

collectors:
  # Info collector is always active - no configuration needed
  # Record count collector is now separately configurable
  record_count:
    enabled: true
    tables:
      include:
        - "*:*:*"
      exclude:
        - "*:*:temp_*"
  live_query:
    # Note: live_query is only available for 'single' deployment_mode
    # Will be automatically disabled with a warning for other modes
    enabled: true
    tables:
      include:
        - "*:*:*"
      exclude:
        - "*:*:temp_*"
    reconnect_delay: 5s
    max_reconnect_attempts: 10
  stats_table:
    enabled: true
    tables:
      include:
        - "*:*:*"
      exclude:
        - "*:*:temp_*"
    remove_orphan_tables: false
    side_table_name_prefix: "_stats_"
  # OpenTelemetry metrics receiver
  # Receives OTLP metrics from SurrealDB via gRPC and converts to Prometheus format
  # Note: Namespace is hardcoded as "surrealdb" and constant labels
  # (cluster, storage_engine, deployment_mode) are derived from surrealdb config
  open_telemetry:
    enabled: true
    grpc_endpoint: ":4317"                                  # gRPC endpoint for OTLP/gRPC
    max_recv_size: 4                                        # Maximum receive size in MB
    translation_strategy: "UnderscoreEscapingWithSuffixes"  # Name translation strategy
    enable_batching: true                                   # Enable metric batching
    batch_size: 100                                         # Metrics per batch
    batch_timeout_ms: 1000                                  # Batch timeout in milliseconds
  go:
    enabled: true
  process:
    enabled: true

logging:
  format: json
  level: debug
  custom_attributes:
    application: surrealdb-prometheus-exporter
